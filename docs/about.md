# О чем речь

Каждый разработчик пользовательского ПО хоть раз, но создавал структуру данных, которую можно назвать справочником. Казалось бы, что может быть проще: создается класс, описывающий те свойства сущности, которые необходимы для работы приложения, реализуется интерфейс редактирования и хранения данных – и справочник готов! И каждый разработчик хоть и немного, но по-своему реализует класс справочника при одинаковой постановке задачи (сколько программистов – столько и реализаций). Хоть в мелочах, но реализации будут отличаться друг от друга: название свойств, длина строковых полей, тип свойств…

Почему же так происходит? Из-за того, что каждый разработчик – прежде всего творец, художник? Возможно, однако, если каждый из группы разработчиков предлагает свои идеи по реализации одной задачи и каждый использует принцип [`KIS`](https://ru.wikipedia.org/wiki/KISS_(%D0%BF%D1%80%D0%B8%D0%BD%D1%86%D0%B8%D0%BF)), то предлагаемые решения будут в целом похожи друг на друга. Получается, одну и ту же сущность разные разработчики описывают в целом одинаково, но в деталях они разнятся. Так откуда же берутся эти различия? Почему же нет унифицированного "видения" сущности?

::: tip
Возьмем простой пример. Необходимо сосчитать  всех зверей в лесу. Что проще: класс `Animal`! Ключ `ID`, название `Name`… И тут встает вопрос: какую размерность поля в БД делать для `Name`? 20? 50? 100? А может так,  как по умолчанию предлагает `Entity Framework` – `nvarchar(max)`? Можно и так, однако, для хранения названия животного в лесу максимальная длина поля слишком уж большая роскошь.
И это только два поля в справочнике. А если задача подразумевает учет хищников? А если нужно знать количество молодняка? А если нужно выделять промысловые особи? Количество вариантов реализации задачи сразу же возрастает. Каждый разработчик естественно аргументирует выбранный им вариант и каждый будет по-своему прав.
:::

А существует ли вообще золотая середина, универсальный справочник (в нашем случае справочник зверей в лесу)? Вопрос, несомненно, спорный. Именно заказчик эту золотую середину и определяет. Но и разработчику следует крепко подумать, что предложить заказчику, нарушить принцип `KISS`, "заглянуть" в будущее, поставить себя на место заказчика через год, пять, предугадать стремление заказчика развиваться. "Но зачем?" - спросите вы. Ведь это "зря" потраченное время, которое можно использовать строго по назначению – на написание кода. Однако на практике иногда выходит, что день-два потраченного времени на более глубокий анализ задачи "экономит" недели только за счет правильного построения структуры справочников – источников первичной информации.

::: tip
Возвращаясь к зверям в лесу: пользователь вводит данные о зайцах. Заяц русак и заяц беляк. Но вместе они – зайцы. И на вопрос: сколько в лесу зайцев, ответить проще всего двумя способами: или "пробежать" по всем строкам справочника и подсчитать количество для тех строк, которые содержат в `Name` слово "заяц" или сгруппировать записи о зайцах на этапе ввода, а потом подсчитать количество сразу для всей группы. Для группировки нужно вводить минимум одно поле в класс справочника, что конечно усложнит и интерфейс ввода данных, и их валидации. Но ускорит выборку и облегчит навигацию для пользователя. Так как же тут поступить?
:::

Вот и получается, что вроде бы простая задача может обернуться объемной и трудоемкой. Отсюда и множество вариантов реализации. И чем больше разработчик вникает в суть описываемого им процесса или объекта, тем больше вариантов реализации открываются перед ним.

Данный ресурс, на примере системы НСИ (нормативно-справочной информации) TreeNSI, описывает возможный вариант построения основных бизнес-сущностей: справочников контрагентов, продукции, стран мира и проч., наиболее часто используемых в бизнес приложениях. Это позволит разработчикам обратить внимание на нюансы подобных сущностей, сэкономить время на поиск и анализ информации, примерно оценить внешний вид получаемой БД и даже ее размер.

::: warning
Предлагаемые идеи не носят характер единственно верного решения, "золотой середины", это прежде всего информация к размышлению, попытка представить единое НСИ в информационной системе большого предприятия (цели создания TreeNSI рассмотрены в разделе ["Так исторически сложилось"](/so-historically/)).
:::
